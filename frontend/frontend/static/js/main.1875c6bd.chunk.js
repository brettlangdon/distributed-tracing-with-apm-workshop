(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(412)},412:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),l=a(188),o=a(189),c=a(208),m=a(190),u=a(209),d=a(77),p=a(191),h=a(11),g=a.n(h),E=a(5),f=a(481),v=a(479),w=a(468),S=a(469),b=a(472),y=a(93),C=a(471),N=a(467),U=a(470),k=a(413),B=a(204),O=a.n(B),P=a(206),q=a.n(P),x=a(205),D=a.n(x),j=a(207),W=a.n(j),_=a(457),G=a(459),H=a(460),T=a(461),F=a(195),L=a.n(F),R=a(196),I=a.n(R),A=a(197),z=a.n(A),X=a(198),K=a.n(X),J=a(92),M=a.n(J),Q=r.a.createElement("div",null,r.a.createElement(_.a,{button:!0},r.a.createElement(G.a,null,r.a.createElement(L.a,null)),r.a.createElement(H.a,{primary:"Dashboard"})),r.a.createElement(_.a,{button:!0},r.a.createElement(G.a,null,r.a.createElement(I.a,null)),r.a.createElement(H.a,{primary:"Pump Status"})),r.a.createElement(_.a,{button:!0},r.a.createElement(G.a,null,r.a.createElement(z.a,null)),r.a.createElement(H.a,{primary:"Sensor Status"})),r.a.createElement(_.a,{button:!0},r.a.createElement(G.a,null,r.a.createElement(K.a,null)),r.a.createElement(H.a,{primary:"User Demand"}))),V=r.a.createElement("div",null,r.a.createElement(T.a,{inset:!0},"Saved reports"),r.a.createElement(_.a,{button:!0},r.a.createElement(G.a,null,r.a.createElement(M.a,null)),r.a.createElement(H.a,{primary:"Current month"})),r.a.createElement(_.a,{button:!0},r.a.createElement(G.a,null,r.a.createElement(M.a,null)),r.a.createElement(H.a,{primary:"Last quarter"})),r.a.createElement(_.a,{button:!0},r.a.createElement(G.a,null,r.a.createElement(M.a,null)),r.a.createElement(H.a,{primary:"Yearly Usage"}))),Y=a(199),$=a.n(Y),Z=a(200),ee=a.n(Z),te=a(87),ae=a.n(te),ne=a(118),re=a.n(ne),se=a(119),ie=a.n(se),le=a(203),oe=a.n(le),ce=a(117),me=a.n(ce),ue=a(76),de=a.n(ue),pe=[{name:"Mon",Users:2200,GPH:3400},{name:"Tue",Users:1280,GPH:2398},{name:"Wed",Users:5e3,GPH:4300},{name:"Thu",Users:4780,GPH:2908},{name:"Fri",Users:5890,GPH:4800},{name:"Sat",Users:4390,GPH:3800},{name:"Sun",Users:4490,GPH:4300}];var he=function(){return r.a.createElement($.a,{width:"99%",height:320},r.a.createElement(ee.a,{data:pe},r.a.createElement(re.a,{dataKey:"name"}),r.a.createElement(ie.a,null),r.a.createElement(oe.a,{vertical:!1,strokeDasharray:"3 3"}),r.a.createElement(me.a,null),r.a.createElement(de.a,null),r.a.createElement(ae.a,{type:"monotone",dataKey:"Users",stroke:"#82ca9d"}),r.a.createElement(ae.a,{type:"monotone",dataKey:"GPH",stroke:"#8884d8",activeDot:{r:8}})))},ge=a(462),Ee=a(466),fe=a(465),ve=a(463),we=a(464),Se=a(482);var be=Object(E.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var t=e.classes,a=e.pumps;function n(e){e.preventDefault(),console.log(e.target.id)}return r.a.createElement(k.a,{className:t.root},r.a.createElement(ge.a,{className:t.table},r.a.createElement(ve.a,null,r.a.createElement(we.a,null,r.a.createElement(fe.a,null,"Pump Name"),r.a.createElement(fe.a,{numeric:!0},"Pump Status"),r.a.createElement(fe.a,{numeric:!0},"Gallons Per Hour"))),r.a.createElement(Ee.a,null,a.map(function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(fe.a,{component:"th",scope:"row"},e.name),r.a.createElement(fe.a,{numeric:!0},r.a.createElement(Se.a,{id:e.id,checked:"ON"==e.status?1:0,onClick:n,disabled:"true",color:"primary"}))," ",r.a.createElement(fe.a,{numeric:!0},e.gph))}))))});var ye=Object(E.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var t=e.classes,a=e.users;return r.a.createElement(k.a,{className:t.root},r.a.createElement(ge.a,{className:t.table},r.a.createElement(ve.a,null,r.a.createElement(we.a,null,r.a.createElement(fe.a,null,"City Name"),r.a.createElement(fe.a,{numeric:!0},"Demand in GPH"),r.a.createElement(fe.a,{numeric:!0},"Total Users"))),r.a.createElement(Ee.a,null,a.map(function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(fe.a,{component:"th",scope:"row"},e.name),r.a.createElement(fe.a,{numeric:!0},e.demand_gph),r.a.createElement(fe.a,{numeric:!0},e.users))}))))});var Ce=Object(E.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var t=e.classes,a=e.sensors;return r.a.createElement(k.a,{className:t.root},r.a.createElement(ge.a,{className:t.table},r.a.createElement(ve.a,null,r.a.createElement(we.a,null,r.a.createElement(fe.a,null,"Sensor Name"),r.a.createElement(fe.a,{numeric:!0},"Sensor Site"),r.a.createElement(fe.a,{numeric:!0},"Sensor Value"))),r.a.createElement(Ee.a,null,a.map(function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(fe.a,{component:"th",scope:"row"},e.name),r.a.createElement(fe.a,{numeric:!0},e.site),r.a.createElement(fe.a,{numeric:!0},e.value))}))))}),Ne=a(474),Ue=a(473),ke=a(477),Be=a(480),Oe=a(37),Pe=a.n(Oe),qe="";var xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,pumpStatus:[{id:1,name:"Pump 1",status:"ON",gph:400}],userStatus:[{id:1,uid:"42023-12024-4951A",name:"Test City",demand_gph:10,users:200}],sensorsStatus:[{id:1,name:"Test Sensor",value:100,added:Date.now(),site:"Naples"}],requestsOpen:!1,requestCount:0,newUser:{name:"",demand_gph:"",users:""},userList:[]},a.pollForSensors=function(){a.simulateSensorReads(),setTimeout(function(){a.pollForSensors()},2e3)},a.getStatus=function(){Pe.a.get(qe+"/status",{crossdomain:!0}).then(function(e){console.log(e.data),a.setState({pumpStatus:e.data.pump_status.status}),a.setState({userStatus:e.data.users}),a.setState({sensorsStatus:e.data.sensor_status.system_status})})},a.pollForStatus=function(){a.getStatus(),setTimeout(function(){a.pollForStatus()},8e3)},a.componentDidMount=function(){a.pollForStatus(),a.pollForSensors()},a.simulateSensorReads=function(){Pe.a.get(qe+"/simulate_sensors",{crossdomain:!0}).then(function(e){a.setState({sensorsStatus:e.data.system_status})})},a.handleNewPump=function(e){e.preventDefault(),Pe.a.post(qe+"/add_pump",{crossdomain:!0}).then(function(e){a.setState({pumpStatus:e.data})})},a.handleRequestConcurrent=function(e){if(e.preventDefault(),e.target.id){var t=e.target.id/10,n=e.target.id;Pe.a.post(qe+"/generate_requests",{concurrent:t,total:n,url:"http://node:5004/users"},{crossdomain:!0}).then(function(e){a.setState({requestsOpen:!0,requestCount:n})})}else{var r=e.target.parentElement.id/10,s=e.target.parentElement.id;Pe.a.post(qe+"/generate_requests",{concurrent:r,total:s,url:"http://node:5004/users"},{crossdomain:!0}).then(function(e){a.setState({requestsOpen:!0,requestCount:s})})}},a.handleUserRequestConcurrent=function(e){e.preventDefault(),Pe.a.get(qe+"/generate_requests_user",{crossdomain:!0}).then(function(e){a.setState({requestsOpen:!0,requestCount:100})})},a.handleUserSubmit=function(e){e.preventDefault(),Pe.a.post(qe+"/users",a.state.newUser,{crossdomain:!0}).then(function(e){console.log(e.data),Pe.a.get(qe+"/status",{crossdomain:!0}).then(function(e){a.setState({userStatus:e.data.users})})}),console.log(a.state.newUser),console.log("user submitted")},a.handleUserChange=function(e){var t=Object.assign({},a.state.newUser);t[e.target.id]=e.target.value,a.setState({newUser:t})},a.handleConcurrentClose=function(e,t){"clickaway"!==t&&a.setState({requestsOpen:!1})},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(w.a,{position:"absolute",className:g()(e.appBar,this.state.open&&e.appBarShift)},r.a.createElement(S.a,{disableGutters:!this.state.open,className:e.toolbar},r.a.createElement(N.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:g()(e.menuButton,this.state.open&&e.menuButtonHidden)},r.a.createElement(O.a,null)),r.a.createElement(y.a,{variant:"title",color:"inherit",noWrap:!0,className:e.title},"Dashboard"),r.a.createElement(N.a,{color:"inherit"},r.a.createElement(U.a,{badgeContent:0},r.a.createElement(D.a,null))))),r.a.createElement(v.a,{variant:"permanent",classes:{paper:g()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(N.a,{onClick:this.handleDrawerClose},r.a.createElement(q.a,null))),r.a.createElement(C.a,null),r.a.createElement(b.a,null,Q),r.a.createElement(C.a,null),r.a.createElement(b.a,null,V)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(y.a,{variant:"display1",gutterBottom:!0},"Water Demand"),r.a.createElement(y.a,{component:"div",className:e.chartContainer},r.a.createElement(he,null)),r.a.createElement(y.a,{variant:"display1",gutterBottom:!0},"Pump Status ",r.a.createElement(Ue.a,{style:{float:"right"},variant:"contained",color:"primary",onClick:this.handleNewPump},"Add Pump")),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(be,{pumps:this.state.pumpStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(y.a,{variant:"display1",gutterBottom:!0},"City Water Sensor Status"),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Ce,{sensors:this.state.sensorsStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(y.a,{variant:"display1",gutterBottom:!0},"City Water Usage"),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(ye,{users:this.state.userStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(Ne.a,{container:!0,direction:"row",justify:"space-around",alignItems:"stretch"},r.a.createElement(k.a,{className:e.paper},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(y.a,{align:"center",variant:"display1",gutterBottom:!0},"Add City to Water System"),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(ke.a,{id:"name",label:"City name",placeholder:"City Name",className:e.textField,margin:"normal",value:this.state.newUser.name,onChange:this.handleUserChange})),r.a.createElement(Ne.a,{item:!0,xs:!0},r.a.createElement(ke.a,{id:"demand_gph",label:"Demand in GPH",placeholder:"400",className:e.textField,margin:"normal",value:this.state.newUser.demand_gph,onChange:this.handleUserChange})),r.a.createElement(Ne.a,{item:!0,xs:!0},r.a.createElement(ke.a,{id:"users",label:"Total Water Users",placeholder:"1000",className:e.textField,margin:"normal",value:this.state.newUser.users,onChange:this.handleUserChange})),r.a.createElement(Ne.a,{item:!0,xs:!0},r.a.createElement(Ue.a,{style:{float:"right"},size:"large",variant:"contained",color:"primary",className:e.submitButton,onClick:this.handleUserSubmit},"Create City"))))),r.a.createElement(Be.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.requestsOpen,autoHideDuration:1e3,onClose:this.handleConcurrentClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.requestCount," requests created @ ",this.state.requestCount/10," concurrent requests. "),action:[r.a.createElement(N.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.handle100Close},r.a.createElement(W.a,null))]})))}}]),t}(r.a.Component),De=Object(E.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{},paper:{marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:1.5*e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},submitButton:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginTop:e.spacing.unit+20,marginBottom:e.spacing.unit+20,width:100},trafficButton:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginTop:e.spacing.unit,marginBottom:e.spacing.unit}}})(xe),je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(De,null),document.querySelector("#root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");je?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):We(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):We(e)})}}()}},[[215,1,2]]]);
//# sourceMappingURL=main.1875c6bd.chunk.js.map