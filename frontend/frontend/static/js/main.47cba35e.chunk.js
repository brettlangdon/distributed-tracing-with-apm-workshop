(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{216:function(e,a,t){e.exports=t(413)},413:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(8),l=t.n(s),i=t(188),o=t(189),c=t(209),m=t(190),u=t(210),d=t(77),p=t(191),h=t(11),E=t.n(h),g=t(5),f=t(481),v=t(479),w=t(468),b=t(469),S=t(472),C=t(93),y=t(471),N=t(467),k=t(470),B=t(414),U=t(204),q=t.n(U),O=t(206),P=t.n(O),x=t(205),D=t.n(x),j=t(208),G=t.n(j),R=t(457),W=t(459),_=t(460),H=t(461),T=t(195),L=t.n(T),F=t(196),z=t.n(F),I=t(197),A=t.n(I),X=t(198),K=t.n(X),J=t(92),M=t.n(J),Q=r.a.createElement("div",null,r.a.createElement(R.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(L.a,null)),r.a.createElement(_.a,{primary:"Dashboard"})),r.a.createElement(R.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(z.a,null)),r.a.createElement(_.a,{primary:"Pump Status"})),r.a.createElement(R.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(A.a,null)),r.a.createElement(_.a,{primary:"Sensor Status"})),r.a.createElement(R.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(K.a,null)),r.a.createElement(_.a,{primary:"User Demand"}))),V=r.a.createElement("div",null,r.a.createElement(H.a,{inset:!0},"Saved reports"),r.a.createElement(R.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(M.a,null)),r.a.createElement(_.a,{primary:"Current month"})),r.a.createElement(R.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(M.a,null)),r.a.createElement(_.a,{primary:"Last quarter"})),r.a.createElement(R.a,{button:!0},r.a.createElement(W.a,null,r.a.createElement(M.a,null)),r.a.createElement(_.a,{primary:"Yearly Usage"}))),Y=t(199),$=t.n(Y),Z=t(200),ee=t.n(Z),ae=t(87),te=t.n(ae),ne=t(118),re=t.n(ne),se=t(119),le=t.n(se),ie=t(203),oe=t.n(ie),ce=t(117),me=t.n(ce),ue=t(76),de=t.n(ue),pe=[{name:"Mon",Users:2200,GPH:3400},{name:"Tue",Users:1280,GPH:2398},{name:"Wed",Users:5e3,GPH:4300},{name:"Thu",Users:4780,GPH:2908},{name:"Fri",Users:5890,GPH:4800},{name:"Sat",Users:4390,GPH:3800},{name:"Sun",Users:4490,GPH:4300}];var he=function(){return r.a.createElement($.a,{width:"99%",height:320},r.a.createElement(ee.a,{data:pe},r.a.createElement(re.a,{dataKey:"name"}),r.a.createElement(le.a,null),r.a.createElement(oe.a,{vertical:!1,strokeDasharray:"3 3"}),r.a.createElement(me.a,null),r.a.createElement(de.a,null),r.a.createElement(te.a,{type:"monotone",dataKey:"Users",stroke:"#82ca9d"}),r.a.createElement(te.a,{type:"monotone",dataKey:"GPH",stroke:"#8884d8",activeDot:{r:8}})))},Ee=t(462),ge=t(466),fe=t(465),ve=t(463),we=t(464),be=t(482);var Se=Object(g.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var a=e.classes,t=e.pumps;function n(e){e.preventDefault(),console.log(e.target.id)}return r.a.createElement(B.a,{className:a.root},r.a.createElement(Ee.a,{className:a.table},r.a.createElement(ve.a,null,r.a.createElement(we.a,null,r.a.createElement(fe.a,null,"Pump Name"),r.a.createElement(fe.a,{numeric:!0},"Pump Status"),r.a.createElement(fe.a,{numeric:!0},"Gallons Per Hour"))),r.a.createElement(ge.a,null,t.map(function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(fe.a,{component:"th",scope:"row"},e.name),r.a.createElement(fe.a,{numeric:!0},r.a.createElement(be.a,{id:e.id,checked:"ON"==e.status?1:0,onClick:n,disabled:"true",color:"primary"}))," ",r.a.createElement(fe.a,{numeric:!0},e.gph))}))))});var Ce=Object(g.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var a=e.classes,t=e.users;return r.a.createElement(B.a,{className:a.root},r.a.createElement(Ee.a,{className:a.table},r.a.createElement(ve.a,null,r.a.createElement(we.a,null,r.a.createElement(fe.a,null,"City Name"),r.a.createElement(fe.a,{numeric:!0},"Demand in GPH"),r.a.createElement(fe.a,{numeric:!0},"Total Users"))),r.a.createElement(ge.a,null,t.map(function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(fe.a,{component:"th",scope:"row"},e.name),r.a.createElement(fe.a,{numeric:!0},e.demand_gph),r.a.createElement(fe.a,{numeric:!0},e.users))}))))});var ye=Object(g.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var a=e.classes,t=e.sensors;return r.a.createElement(B.a,{className:a.root},r.a.createElement(Ee.a,{className:a.table},r.a.createElement(ve.a,null,r.a.createElement(we.a,null,r.a.createElement(fe.a,null,"Sensor Name"),r.a.createElement(fe.a,{numeric:!0},"Sensor Site"),r.a.createElement(fe.a,{numeric:!0},"Sensor Value"))),r.a.createElement(ge.a,null,t.map(function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(fe.a,{component:"th",scope:"row"},e.name),r.a.createElement(fe.a,{numeric:!0},e.site),r.a.createElement(fe.a,{numeric:!0},e.value))}))))}),Ne=t(474),ke=t(473),Be=t(477),Ue=t(480),qe=t(207),Oe=t.n(qe),Pe=t(37),xe=t.n(Pe),De="";var je=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={open:!1,pumpStatus:[{id:1,name:"Pump 1",status:"ON",gph:400}],userStatus:[{id:1,uid:"42023-12024-4951A",name:"Test City",demand_gph:10,users:200}],sensorsStatus:[{id:1,name:"Test Sensor",value:100,added:Date.now(),site:"Naples"}],requestsOpen:!1,requestCount:0,newUser:{name:"",demand_gph:"",users:""},userList:[]},t.pollForSensors=function(){setTimeout(function(){t.simulateSensorReads(),t.pollForSensors()},3e3)},t.componentDidMount=function(){xe.a.get(De+"/status",{crossdomain:!0}).then(function(e){console.log(e.data),t.setState({pumpStatus:e.data.pump_status.status}),t.setState({userStatus:e.data.users}),t.setState({sensorsStatus:e.data.sensor_status.system_status})}),t.pollForSensors()},t.simulateSensorReads=function(){xe.a.get(De+"/simulate_sensors",{crossdomain:!0}).then(function(e){t.setState({sensorsStatus:e.data.system_status})})},t.handleNewPump=function(e){e.preventDefault(),xe.a.post(De+"/add_pump",{crossdomain:!0}).then(function(e){t.setState({pumpStatus:e.data})})},t.handleRequestConcurrent=function(e){if(e.preventDefault(),e.target.id){var a=e.target.id/10,n=e.target.id;xe.a.post(De+"/generate_requests",{concurrent:a,total:n,url:"http://node:5004/users"},{crossdomain:!0}).then(function(e){t.setState({requestsOpen:!0,requestCount:n})})}else{var r=e.target.parentElement.id/10,s=e.target.parentElement.id;xe.a.post(De+"/generate_requests",{concurrent:r,total:s,url:"http://node:5004/users"},{crossdomain:!0}).then(function(e){t.setState({requestsOpen:!0,requestCount:s})})}},t.handleUserRequestConcurrent=function(e){e.preventDefault(),xe.a.get(De+"/generate_requests_user",{crossdomain:!0}).then(function(e){t.setState({requestsOpen:!0,requestCount:100})})},t.handleUserSubmit=function(e){e.preventDefault(),xe.a.post(De+"/users",t.state.newUser,{crossdomain:!0}).then(function(e){console.log(e.data),xe.a.get(De+"/status",{crossdomain:!0}).then(function(e){t.setState({userStatus:e.data.users})})}),console.log(t.state.newUser),console.log("user submitted")},t.handleUserChange=function(e){var a=Object.assign({},t.state.newUser);a[e.target.id]=e.target.value,t.setState({newUser:a})},t.handleConcurrentClose=function(e,a){"clickaway"!==a&&t.setState({requestsOpen:!1})},t.handleDrawerOpen=function(){t.setState({open:!0})},t.handleDrawerClose=function(){t.setState({open:!1})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(w.a,{position:"absolute",className:E()(e.appBar,this.state.open&&e.appBarShift)},r.a.createElement(b.a,{disableGutters:!this.state.open,className:e.toolbar},r.a.createElement(N.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:E()(e.menuButton,this.state.open&&e.menuButtonHidden)},r.a.createElement(q.a,null)),r.a.createElement(C.a,{variant:"title",color:"inherit",noWrap:!0,className:e.title},"Dashboard"),r.a.createElement(N.a,{color:"inherit"},r.a.createElement(k.a,{badgeContent:0},r.a.createElement(D.a,null))))),r.a.createElement(v.a,{variant:"permanent",classes:{paper:E()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(N.a,{onClick:this.handleDrawerClose},r.a.createElement(P.a,null))),r.a.createElement(y.a,null),r.a.createElement(S.a,null,Q),r.a.createElement(y.a,null),r.a.createElement(S.a,null,V)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(C.a,{variant:"display1",gutterBottom:!0},"Water Demand"),r.a.createElement(C.a,{component:"div",className:e.chartContainer},r.a.createElement(he,null)),r.a.createElement(C.a,{variant:"display1",gutterBottom:!0},"Pump Status ",r.a.createElement(ke.a,{style:{float:"right"},variant:"contained",color:"primary",onClick:this.handleNewPump},"Add Pump")),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Se,{pumps:this.state.pumpStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(C.a,{variant:"display1",gutterBottom:!0},"City Water Sensor Status"),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(ye,{sensors:this.state.sensorsStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(C.a,{variant:"display1",gutterBottom:!0},"City Water Usage"),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Ce,{users:this.state.userStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(Ne.a,{container:!0,direction:"row",justify:"space-around",alignItems:"stretch"},r.a.createElement(B.a,{className:e.paper},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(C.a,{align:"center",variant:"display1",gutterBottom:!0},"Add City to Water System"),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Be.a,{id:"name",label:"City name",placeholder:"City Name",className:e.textField,margin:"normal",value:this.state.newUser.name,onChange:this.handleUserChange})),r.a.createElement(Ne.a,{item:!0,xs:!0},r.a.createElement(Be.a,{id:"demand_gph",label:"Demand in GPH",placeholder:"400",className:e.textField,margin:"normal",value:this.state.newUser.demand_gph,onChange:this.handleUserChange})),r.a.createElement(Ne.a,{item:!0,xs:!0},r.a.createElement(Be.a,{id:"users",label:"Total Water Users",placeholder:"1000",className:e.textField,margin:"normal",value:this.state.newUser.users,onChange:this.handleUserChange})),r.a.createElement(Ne.a,{item:!0,xs:!0},r.a.createElement(ke.a,{style:{float:"right"},size:"large",variant:"contained",color:"primary",className:e.submitButton,onClick:this.handleUserSubmit},"Create City"))),r.a.createElement(B.a,{className:e.paper},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(C.a,{align:"center",variant:"display1",gutterBottom:!0},"Generate API Traffic"),r.a.createElement("br",null),r.a.createElement(ke.a,{id:"100",className:e.trafficButton,size:"large",variant:"contained",color:"default",onClick:this.handleRequestConcurrent},"100 users @ 10 concurrent requests"),r.a.createElement("br",null),r.a.createElement(ke.a,{id:"200",className:e.trafficButton,size:"large",variant:"contained",color:"primary",onClick:this.handleRequestConcurrent},"200 users @ 20 concurrent requests"),r.a.createElement("br",null),r.a.createElement(ke.a,{id:"300",className:e.trafficButton,size:"large",variant:"contained",color:"secondary",onClick:this.handleRequestConcurrent},"300 users @ 30 concurrent requests"),r.a.createElement("br",null),r.a.createElement(ke.a,{id:"100",style:{backgroundColor:Oe.a[500]},className:e.trafficButton,size:"large",variant:"contained",color:"secondary",onClick:this.handleUserRequestConcurrent},"Generate Requests for Random User")))),r.a.createElement(Ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.requestsOpen,autoHideDuration:1e3,onClose:this.handleConcurrentClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.requestCount," requests created @ ",this.state.requestCount/10," concurrent requests. "),action:[r.a.createElement(N.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.handle100Close},r.a.createElement(G.a,null))]})))}}]),a}(r.a.Component),Ge=Object(g.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{},paper:{marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:1.5*e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},submitButton:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginTop:e.spacing.unit+20,marginBottom:e.spacing.unit+20,width:100},trafficButton:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginTop:e.spacing.unit,marginBottom:e.spacing.unit}}})(je),Re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(Ge,null),document.querySelector("#root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Re?(function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):We(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):We(e)})}}()}},[[216,1,2]]]);
//# sourceMappingURL=main.47cba35e.chunk.js.map